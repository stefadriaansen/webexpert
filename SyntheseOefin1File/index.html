<!DOCTYPE html>
<html ng-app="carApp">
<head>
	<title>Synthese Oefening</title>
	<link href="css/bootstrap.css" rel="stylesheet" />
	<link href="css/styles.css" rel="stylesheet" />
</head>
<body>

	<div class="container" ng-controller="autoController as autoCtrl" >
		<header>
			<a class="col-xs-6 col-md-4 bg-primary" ng-href=""><h5>Auto</h5></a>
			<a class="col-xs-6 col-md-4 bg-primary" ng-href=""><h5>Configurator<h5></a>
			<a class="col-xs-6 col-md-4 bg-primary" ng-href=""><h5>Overzicht offerte<h5></a>
		</header>
		<div>

			Automerk
			<select>
				<option ng-repeat="auto in autoCtrl.autos">{{auto.merk}}</option>
			</select>
		</div>
		<footer>
		</footer>
	</div>


	<!-- ***************-->
	<!-- Vendor scripts -->
	<!-- ***************-->
	<script src="js/vendor/angular/angular.js"></script>
	<script src="js/vendor/angular-route/angular-route.js"></script>

	<!-- ***************-->
	<!-- Custom scripts -->
	<!-- ***************-->
	<script>
		angular.module('carApp', []);

		angular.module('carApp')
			.controller('autoController', autoController)
			.factory('carFactory', carFactory)
			.constant('GLOBALS', {
				carUrl: 'data/automerk.json'
			});

		// 2. Factory injecteren
		autoController.$inject = ['carFactory'];
		function autoController(carFactory) {
			var vm = this;

			carFactory.getCars()
					.success(function (autos) {
						vm.autos = autos;
					})
					.error(function (err, status) {
						alert(err);
					});
		}

		carFactory.$inject = ['$http', 'GLOBALS'];
		function carFactory($http, GLOBALS) {
			
			var factory = {}


			factory.getCars = function () {
				return $http({
					url: GLOBALS.carUrl,
					method: 'GET'
				});
			}

			factory.getOptions = function () {
				return $http({
					url: GLOBALS.optionsUrl,
					method: 'GET'
				});
			}
			return factory;
		}

	</script>
</body>
</html>